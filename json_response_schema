from google import genai
from google.genai.types import GenerateContentConfig
from pydantic import BaseModel 



class Recipe(BaseModel):
    recipe_name: str
    ingredients: list[str]
    instructions: list[str]

# the fields in the Python object correspond to they keys in the JSON response

client = genai.Client()

# specify a response schema
# specify the structure of the json object
# specify the data types of each field
# Pydantic to describe python objects to map to the json response

response = client.models.generate_content(
    model='gemini-2.5-flash',
    contents="""I have leftover chicken,
    cheese,
    and brocolli. Suggest one recipe?""",
    config=GenerateContentConfig(
        system_instruction='Include US and metric units',
        response_mime_type='application/json',
        response_schema=Recipe
    )
)

print(response.text)
recipe = response.parsed  # recipe object
print(recipe.recipe_name)

for ingredient in recipe.ingredients:
    print(ingredient)

for step in recipe.instructions:
    print(step)


